{"version":3,"sources":["../src/ReduxSimpleContainer.js"],"names":["toCamelCase","string","replace","$1","toUpperCase","toLowerCase","removeUnderScoreLowerCase","split","join","ReduxSimpleContainer","actions","stateRequested","Component","mapStateToProps","state","ownProps","length","stateFormatted","reduce","acc","key","arrayKeys","lastKey","value","mapDispatchToProps","dispatch","dispatchActions","action","index","type","name","params","trigger","Error","args","accu","param"],"mappings":"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","sourcesContent":["import { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n\nconst toCamelCase = string =>\n    string\n        .replace(/\\s(.)/g, $1 => $1.toUpperCase())\n        .replace(/\\s/g, \"\")\n        .replace(/^(.)/, $1 => $1.toLowerCase());\n\nconst removeUnderScoreLowerCase = string =>\n    string\n        .split(\"_\")\n        .join(\" \")\n        .toLowerCase();\n\nconst ReduxSimpleContainer = (actions, stateRequested, Component) => {\n    const mapStateToProps = (state, ownProps) => {\n        if (!stateRequested || !stateRequested.length) {\n            return { ...ownProps };\n        }\n        const stateFormatted = stateRequested.reduce(\n            (acc, key) => {\n                const arrayKeys = key.split(\".\");\n                const lastKey = arrayKeys[arrayKeys.length - 1];\n                const value = arrayKeys.reduce((acc, key) => acc[key], state);\n                return { ...acc, [lastKey]: value };\n            },\n            { ...ownProps }\n        );\n        return stateFormatted;\n    };\n\n    const mapDispatchToProps = dispatch => {\n        if (!actions || !actions.length) {\n            return {};\n        }\n        const dispatchActions = actions.reduce((acc, action, index) => {\n            if (typeof action === \"string\") {\n                if (action === \"dispatch\") {\n                    return {\n                        ...acc,\n                        dispatch\n                    };\n                }\n                return {\n                    ...acc,\n                    [toCamelCase(removeUnderScoreLowerCase(action))]: () =>\n                        dispatch({ type: action })\n                };\n            }\n\n            if (typeof action === \"function\") {\n                if (action.name) {\n                    return {\n                        ...acc,\n                        ...bindActionCreators(\n                            { [action.name]: action },\n                            dispatch\n                        )\n                    };\n                }\n\n                return {\n                    ...acc,\n                    ...bindActionCreators(\n                        { [\"action\" + index]: action },\n                        dispatch\n                    )\n                };\n            }\n\n            const { params, type, name, trigger } = action;\n\n            if (params && params.length && type) {\n                if (typeof type !== \"string\") {\n                    throw new Error(\"Need type parameter as a string\");\n                }\n                return {\n                    ...acc,\n                    [toCamelCase(removeUnderScoreLowerCase(type))]: (...args) =>\n                        dispatch({\n                            type,\n                            ...params.reduce(\n                                (accu, param, index) => ({\n                                    ...accu,\n                                    [param]: args[index]\n                                }),\n                                {}\n                            )\n                        })\n                };\n            }\n\n            if (name && trigger) {\n                if (typeof name !== \"string\") {\n                    throw new Error(\"Need type parameter as a string\");\n                }\n                if (typeof trigger !== \"function\") {\n                    throw new Error(\"Need type parameter as a string\");\n                }\n                return {\n                    ...acc,\n                    [name]: (...args) => {\n                        dispatch(trigger(...args));\n                    }\n                };\n            }\n\n            return acc;\n        }, {});\n\n        return dispatchActions;\n    };\n\n    return connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(Component);\n};\n\nexport default ReduxSimpleContainer;\n"],"file":"ReduxSimpleContainer.js"}